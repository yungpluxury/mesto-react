{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","validation/useFormWithValidation.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/RemovePlacePopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","headerLogo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","cardDeleteButton","owner","_id","type","onClick","isLiked","likes","some","item","cardLikeButtonClassName","console","log","link","name","length","Main","isEditAvatarPopupOpen","isEditProfilePopupOpen","isAddPlacePopupOpen","cards","avatar","about","map","Footer","Date","getFullYear","ImagePopup","onClose","isOpen","PopupWithForm","children","title","textButton","onSubmit","isDisabled","noValidate","disabled","useFormWithValidation","useState","values","setValues","errors","setErrors","isValid","setIsValid","resetForm","useCallback","newValues","newErrors","newIsValid","handleChange","evt","target","value","validationMessage","closest","checkValidity","EditAvatarPopup","onUpdateAvatar","useEffect","event","preventDefault","id","placeholder","onChange","required","EditProfilePopup","onUpdateUser","e","minLength","maxLength","AddPlacePopup","onAddPlace","RemovePlacePopup","onDeleteCard","options","this","_url","url","_headers","headers","res","ok","json","Promise","reject","status","fetch","method","then","_checkErrors","userData","body","JSON","stringify","data","all","getInitialCards","getUserInfo","authorization","App","selectedCard","setSelectedCard","setCurrentUser","setCards","useCardId","setUseCardId","setIsAvatarPopupOpen","setIsProfilePopupOpen","setIsAddPlacePopupOpen","isRemovePlacePopupOpen","setIsRemovePlacePopupOpen","handleEscClose","key","closeAllPopups","handleOverlayClose","classList","contains","window","addEventListener","removeEventListener","api","catch","err","Provider","changeLikeCardStatus","newCards","changeUserAvatar","setUserInfoByApi","addCard","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d0a32cd0.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import React from 'react';\nimport headerLogo from '../images/logo.svg';\n\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <img className=\"header__logo\" src={headerLogo} alt=\"Логотип 'Место'\" />\n    </header>\n  );\n}\n  \nexport default Header;\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\nimport { useContext } from \"react\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\n    const currentUser = useContext(CurrentUserContext);\n    const isOwn = card.owner._id === currentUser._id;\n    const cardDeleteButton = isOwn\n    ? (<button className=\"element__trash-icon\" type=\"button\" onClick={handleDeleteClick} />)\n    : null;\n    const isLiked = card.likes.some(item => item._id === currentUser._id);\n    const cardLikeButtonClassName = `element__like \n    ${isLiked\n        ? ('element__like_active')\n        : ''}`;\n\n\n    function handleCardClick() {\n        onCardClick(card);\n    }\n    function handleLikeClick() {\n        onCardLike(card);\n    }\n    function handleDeleteClick() {\n        onCardDelete(card);\n    }\n    console.log(card);\n    return (\n        <figure className=\"element\">\n            <img className=\"element__image\" src={card.link} alt={`${card.name}`} onClick={handleCardClick} />\n            {cardDeleteButton}\n            <figcaption className=\"element__name-container\">\n                <h2 className=\"element__name\">{card.name}</h2>\n                <div className=\"element__like-container\">\n                    <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\n                    <p className=\"element__like-count\">{card.likes.length}</p>\n                </div>\n            </figcaption>\n        </figure>\n    )\n}\n\n\nexport default Card;","import React, { useContext } from 'react';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main({isEditAvatarPopupOpen, isEditProfilePopupOpen, isAddPlacePopupOpen, cards, onCardClick, onCardLike, onCardDelete}) {\n\nconst currentUser = useContext(CurrentUserContext);\n\n\n\nreturn (\n    <main className=\"content\">\n        <section className=\"profile\">\n            <div className=\"profile__avatar-container\">\n                <button type=\"button\" className=\"profile__avatar-edit-button\" onClick={isEditAvatarPopupOpen}></button>\n                <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Аватар пользователя\" />\n            </div>                \n            <div className=\"profile__info\">\n                <div className=\"profile__head\">\n                    <h1 className=\"profile__name\">{currentUser.name}</h1>\n                    <button type=\"button\" className=\"profile__edit-button\" onClick={isEditProfilePopupOpen}></button>\n                </div>\n                <p className=\"profile__description\">{currentUser.about}</p>\n            </div>\n            <button type=\"button\" className=\"profile__add-button\" onClick={isAddPlacePopupOpen}></button>\n        </section>\n        <section className=\"elements\">\n            {\n                cards.map(card => (\n                    <Card\n                        card={card}\n                        key={card._id}\n                        onCardClick={onCardClick}\n                        onCardLike={onCardLike}\n                        onCardDelete={onCardDelete}\n                    />\n                ))\n            }\n        </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; {new Date().getFullYear()}. Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\n\nfunction ImagePopup({ card, onClose }) {\n  return (\n    <div className={`popup_function_image popup ${card.isOpen ? 'popup_is-opened' : ''}`}>\n        <div className=\"popup__image-container\">\n            <button className=\"popup__close-button popup__close-button_function_image\" onClick={onClose}></button>\n            <img src={card?.link} alt={card?.name} className=\"popup__image\" />\n            <p className=\"popup__image-description\">{card?.name}</p>\n        </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;","import React from 'react';\n\nfunction PopupWithForm({ children, name, title, textButton, isOpen, onClose, onSubmit, isDisabled }) {\n  return (\n    <section className={`popup popup_function_${name} ${isOpen ? 'popup_is-opened' : ''}`}>\n      <div className={\"popup__container\"}>\n        <button\n          className={\"popup__close-button\"}\n          type={\"button\"}\n          onClick={onClose}>\n        </button>\n        <h2 className={\"popup__title\"}>\n          {title}</h2>\n        <form\n          className={\"form\"}\n          name={name}\n          onSubmit={onSubmit}\n          noValidate\n        >\n          {children}\n          <button\n            className={\"form__save-button\"}\n            type={\"submit\"}\n            disabled={isDisabled}>\n            {textButton}\n          </button>\n        </form>\n      </div>\n    </section>\n  );\n}\n\nexport default PopupWithForm;","import { useState, useCallback } from \"react\";\n\nexport function useFormWithValidation() {\n\n  const [values, setValues] = useState({});\n  const [errors, setErrors] = useState({});\n  const [isValid, setIsValid] = useState(false);\n\n  const handleChange = (evt) => {\n    const target = evt.target;\n    const name = target.name;\n    const value = target.value;\n\n    setValues({\n      ...values,\n      [name]: value\n    });\n\n    setErrors({\n      ...errors,\n      [name]: target.validationMessage\n    });\n\n    setIsValid(target.closest('.form').checkValidity());\n\n  }\n\n  const resetForm = useCallback(\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\n      setValues(newValues);\n      setErrors(newErrors);\n      setIsValid(newIsValid);\n    },\n    [setValues, setErrors, setIsValid]\n  )\n\n  return {\n    values,\n    errors,\n    isValid,\n    handleChange,\n    resetForm\n  };\n\n};","import React from 'react';\nimport { useEffect } from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { useFormWithValidation } from '../validation/useFormWithValidation';\n\nfunction EditAvatarPopup({ onUpdateAvatar, isOpen, onClose }) {\n    \n    const {\n        values,\n        errors,\n        isValid,\n        handleChange,\n        resetForm\n      } = useFormWithValidation({});\n\n    useEffect(() => {\n        resetForm();\n      }, [isOpen, resetForm])\n\n    function handleSubmit(event) {\n        event.preventDefault();\n\n        onUpdateAvatar(values);\n    }\n  \n    return (\n        <PopupWithForm\n            name=\"popup-add-avatar\"\n            title=\"Обновить аватар\"\n            textButton=\"Обновить\"\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n            isDisabled={!isValid}\n        >\n        <input\n            className={errors.avatar ? 'form__element-text form__element-text_type-error' : 'form__element-text'}\n            type=\"url\"\n            id=\"avatar-link\"\n            placeholder=\"Ссылка на аватар\"\n            aria-label=\"ссылка\"\n            name=\"avatar\"\n            value={values.avatar || ''}\n            onChange={handleChange}\n            required\n        />\n        <span id='avatar-link-error'\n        className={errors.avatar ? 'form__input-error_active' : 'form__input-error'}>{errors.avatar}</span>\n      </PopupWithForm>\n    );\n  }\n  \n  export default EditAvatarPopup;","import React, { useContext, useEffect } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport PopupWithForm from './PopupWithForm';\nimport { useFormWithValidation } from '../validation/useFormWithValidation';\n\nfunction EditProfilePopup({ onUpdateUser, isOpen, onClose }) {\n  \n  const {\n    values,\n    errors,\n    isValid,\n    handleChange,\n    resetForm\n  } = useFormWithValidation({});\n\n  const currentUser = useContext(CurrentUserContext);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onUpdateUser(values);\n  }\n\n  useEffect(() => {\n    if (currentUser) {\n      resetForm(currentUser);\n    }\n  }, [currentUser, isOpen, resetForm]);\n\n  return (\n    <PopupWithForm\n      name=\"popup-profile\"\n      title=\"Редактировать профиль\"\n      textButton=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      isDisabled={!isValid}\n    >\n      <input\n        className={errors.name ? 'form__element-text form__element-text_type-error' : 'form__element-text'}\n        type=\"text\"\n        id=\"profile-name\"\n        placeholder=\"Ваше имя\"\n        name=\"name\"\n        minLength=\"2\"\n        maxLength=\"40\"\n        value={values.name || ''}\n        onChange={handleChange}\n        required\n      />\n      <span id='name-error' className={errors.name ? 'form__input-error_active' : 'form__input-error'}>{errors.name}</span>\n      <input\n        className={errors.about ? 'form__element-text form__element-text_type-error' : 'form__element-text'}\n        type=\"text\"\n        id=\"profile-about\"\n        placeholder=\"Расскажите о себе\"\n        name=\"about\"\n        minLength=\"2\"\n        maxLength=\"200\"\n        value={values.about || ''}\n        onChange={handleChange}\n        required\n      />\n      <span id='about-error' className={errors.about ? 'form__input-error_active' : 'form__input-error'}>{errors.name}</span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;","import React, { useEffect } from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { useFormWithValidation } from '../validation/useFormWithValidation';\n\n\nfunction AddPlacePopup({ onAddPlace, isOpen, onClose }) {\n\n  const {\n    values,\n    errors,\n    isValid,\n    handleChange,\n    resetForm\n  } = useFormWithValidation({});\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onAddPlace(values);\n  }\n\n  useEffect(() => {\n    resetForm();\n  }, [isOpen, resetForm])\n\n  return (\n    <PopupWithForm\n      name=\"popup-add-card\"\n      title=\"Новое место\"\n      textButton=\"Создать\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      isDisabled={!isValid}\n    >\n      <input\n        className={errors.name ? 'form__element-text form__element-text_type-error' : 'form__element-text'}\n        type=\"text\"\n        aria-label=\"Название места\"\n        id=\"photo-title\"\n        placeholder=\"Название\"\n        name=\"name\"\n        minLength=\"2\"\n        maxLength=\"30\"\n        value={values.name || ''}\n        onChange={handleChange}\n        required\n      />\n      <span id='name-error' className={errors.name ? 'form__input-error_active' : 'form__input-error'}>{errors.name}</span>\n      <input\n        className={errors.link ? 'form__element-text form__element-text_type-error' : 'form__element-text'}\n        type=\"url\"\n        aria-label=\"Ссылка на картинку\"\n        placeholder=\"Ссылка на картинку\"\n        name=\"link\"\n        minLength=\"7\"\n        maxLength=\"300\"\n        value={values.link || ''}\n        onChange={handleChange}\n        required\n      />\n      <span id='link-error' className={errors.name ? 'form__input-error_active' : 'form__input-error'}>{errors.link}</span>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction RemovePlacePopup({ onDeleteCard, isOpen, onClose }) {\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onDeleteCard();\n  }\n\n  return (\n    <PopupWithForm\n      name=\"popup-remove-card\"\n      title=\"Вы уверены?\"\n      textButton=\"Да\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    />\n\n  );\n}\n\nexport default RemovePlacePopup;","class Api {\n    constructor(options) {\n        this._url = options.url;\n        this._headers = options.headers;\n    }\n\n    _checkErrors(res) {\n        if (res.ok) {\n          return res.json()\n        } else {\n            return Promise.reject(`Error: ${res.status}`)\n        }\n    }\n\n    getInitialCards() {\n        return fetch(this._url + '/cards', {\n            method: 'GET',\n            headers: this._headers\n        })\n        .then(this._checkErrors)\n    }\n\n    getUserInfo() {\n        return fetch(this._url + '/users/me', {\n          method: 'GET',\n          headers: this._headers\n        })\n        .then(this._checkErrors)\n    }\n\n    setUserInfoByApi(userData) {\n        return fetch(this._url + '/users/me', {\n          method: 'PATCH',\n          headers: this._headers,\n          body: JSON.stringify({\n            name: userData.name,\n            about: userData.about\n          })\n        })\n        .then(this._checkErrors)\n    }\n\n    addCard(data) {\n        return fetch(this._url + '/cards', {\n          method: 'POST',\n          headers: this._headers,\n          body: JSON.stringify({\n            name: data.name,\n            link: data.link\n          })\n        })\n        .then(this._checkErrors)\n    }\n\n    changeLikeCardStatus(id, isLiked) {\n      return fetch(this._url + `/cards/likes/${id}`, {\n        method: isLiked ? 'DELETE' : 'PUT',\n        headers: this._headers\n      })\n        .then(this._checkErrors)\n    }\n\n    deleteCard(id) {\n        return fetch(this._url + `/cards/${id}`, {\n          method: 'DELETE',\n          headers: this._headers\n        })\n        .then(this._checkErrors)\n    }\n\n    changeUserAvatar(userData) {\n        console.log(userData);\n        return fetch(this._url + '/users/me/avatar', {\n          method: 'PATCH',\n          headers: this._headers,\n          body: JSON.stringify({\n            avatar: userData.avatar\n          })\n        })\n        .then(this._checkErrors)\n    }\n\n    getData() {\n        return Promise.all([this.getInitialCards(), this.getUserInfo()])\n    }\n}\n\nexport default new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-25',\n  headers: {\n      authorization: '1e3ace66-7bc0-4085-a74d-3975b1264152',\n      'Content-Type': 'application/json'\n  }\n});","import React, {useState, useEffect} from 'react';\n\nimport '../App.css';\nimport '../index.css';\n\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport RemovePlacePopup from './RemovePlacePopup'\nimport api from '../utils/api.js';\n\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\n\nfunction App() {\n  const [selectedCard, setSelectedCard] = useState({\n    isOpen: false,\n    owner: { name: '' }\n  });\n  const [currentUser, setCurrentUser] = useState({\n    name: 'Loading...',\n    about: ''\n  });\n  const [cards, setCards] = useState([]);\n  const [useCardId, setUseCardId] = useState('');\n\n  const [isEditAvatarPopupOpen, setIsAvatarPopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setIsProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isRemovePlacePopupOpen, setIsRemovePlacePopupOpen] = useState(false);\n  \n\n  function handleEscClose(evt) {\n    if (evt.key === 'Escape') {\n      closeAllPopups();\n    }\n  }\n  \n  function handleOverlayClose(evt) {\n    if (evt.target.classList.contains('popup')) {\n      closeAllPopups();\n    }\n  }\n\n  useEffect(() => {\n    window.addEventListener('keydown', handleEscClose);\n    window.addEventListener('mousedown', handleOverlayClose);\n  \n    return () => {\n      window.removeEventListener('keydown', handleEscClose);\n      window.removeEventListener('mousedown', handleOverlayClose);\n    };\n  })\n\n  const handleAddPlaceSubmit = (values) => {\n    api.addCard(values)\n      .then(res => {\n        setCards([res, ...cards]);\n        closeAllPopups();\n      })\n      .catch(err => console.log(`Error: ${err}`));\n  }\n\n  const handleUpdateAvatar = ({ avatar }) => {\n    api.changeUserAvatar({ avatar })\n      .then(res => {\n        setCurrentUser(res);\n        closeAllPopups();\n\n      })\n      .catch(err => console.log(`Error: ${err}`));\n  }\n\n  const handleUpdateUserInfo = (data) => {\n    api.setUserInfoByApi(data)\n      .then(res => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch(err => console.log(`Error: ${err}`));\n  }\n\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some(item => item._id === currentUser._id);\n\n    api.changeLikeCardStatus(card._id, isLiked)\n      .then(res => {\n        const newCards = cards.map(item => item._id === card._id ? res : item);\n        setCards(newCards);\n      })\n      .catch(err => console.log(`Error: ${err}`));\n  }\n\n  const handleCardDelete = () => {\n    api.deleteCard(useCardId)\n      .then(res => {\n        const newCards = cards.filter(item => item._id === useCardId ? null : item);\n        setCards(newCards);\n        closeAllPopups();\n      })\n      .catch(err => console.log(`Error: ${err}`));\n  }\n\n  const handleTrashClick = (card) => {\n    setIsRemovePlacePopupOpen(true)\n    setUseCardId(card._id)\n  }\n  function handleEditAvatarClick() {\n      setIsAvatarPopupOpen(true);\n  }\n  function handleEditProfileClick() {\n      setIsProfilePopupOpen(true);\n  }\n  function handleAddPlaceClick() {\n      setIsAddPlacePopupOpen(true);\n  }\n  function handleCardClick(data) {\n      setSelectedCard({\n        isOpen: true,\n        ...data\n      });\n  }\n\n  function closeAllPopups() {\n      setSelectedCard({\n        isOpen: false,\n        owner: { name: '' }\n      });\n      setIsAddPlacePopupOpen(false);\n      setIsAvatarPopupOpen(false);\n      setIsProfilePopupOpen(false);\n      setIsRemovePlacePopupOpen(false);\n  }\n\n  useEffect(() => {\n    api.getUserInfo()\n      .then(res => {\n        setCurrentUser(res);\n      })\n      .catch(err => console.log(`Error: ${err}`));\n  }, []);\n  useEffect(() => {\n    api.getInitialCards()\n      .then(res => {\n        setCards(res)\n      })\n      .catch(err => console.log(`Error: ${err}`))\n  }, []);\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n      <Header />\n      <Main onCardClick={handleCardClick}\n        isEditAvatarPopupOpen={handleEditAvatarClick}\n        isEditProfilePopupOpen={handleEditProfileClick}\n        isAddPlacePopupOpen={handleAddPlaceClick}\n        cards={cards}\n        onCardLike={handleCardLike}\n        onCardDelete={handleTrashClick}\n         />\n      <Footer />\n      <ImagePopup\n        card={selectedCard}\n        onClose={closeAllPopups}\n      />\n      <EditAvatarPopup\n        isOpen={isEditAvatarPopupOpen}\n        onClose={closeAllPopups}\n        onUpdateAvatar={handleUpdateAvatar}\n      />\n      <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUserInfo}\n      />\n      <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n      />\n      <RemovePlacePopup\n          isOpen={isRemovePlacePopupOpen}\n          onClose={closeAllPopups}\n          onDeleteCard={handleCardDelete}\n      />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\nreportWebVitals();\n"],"sourceRoot":""}